# System Design социальной сети для [курса по System Design](https://balun.courses/courses/system_design)

## 1. Общие сведения о проекте
Проектируемая система представляет собой социальную сеть для путешественников.
Результат проекта должен обеспечить достижение следующих целей:
- создание и вывод на рынок платформы для микроблогов и обмена фотографиями с уникальным фокусом на путешествия;
- создание конкуренции и последующее освоение ниши "социальной сети для обмена фотографиями", частично освобожденной в РФ после признания деятельности Instagram экстремистской;
- получение дохода - на втором этапе проекта планируется монетизации социальной сети за счет рекламы и интеграции сервисами/агрегаторами услуг в сфере путешествий.
Основными потребителями результатов проекта будут:
- жители стран СНГ, которые путешествуют или желают отправиться в путешествие;
- представители бизнеса в сфере путешествий.
Проект реализуется в следующих ограничениях:
- в данном документе рассматривается только core функциональность системы, актуальная для первого этапа проекта;
- функции регистрации нового пользователя, редактирования профиля пользователя, аутентификация, авторизация, а также хранение секретов не входят в границы задачи и должны быть рассмотрены отдельно.
- админ-панель для сотрудника соц.сети на пером этапе проекта не создается, наполнение справочников и редактирование изменяемых параметров системы должно выполняться через сотрудников отдела сопровождения;
- аналитическая отчетность, админ-панель для сотрудника соц.сети, реклама, интеграции сервисами/агрегаторами услуг в сфере путешествий и прочие функции развития будут рассматриваться отдельно на последующих этапах проекта.

## 2. Функциональные требования
1. Клиентская часть системы.
	1. Требуется разработать следующие клиентские части системы:
		- мобильное приложение для iOS;
		- мобильное приложение для Android;
		- web-приложение.
	2. Описанная в данном разделе функциональность должна быть доступна во всех вышеперечисленных клиентских приложениях.
2. Просмотр профиля и ленты пользователя.
	1. Пользователь может просматривать как свой профиль, так и профили других путешественников.
	2. Профиль пользователя состоит из двух разделов:
		1. Информация о пользователе. Содержит общие сведения о пользователе: Имя, Имя пользователя, Пол, Дата рождения, Город, Фото, О себе, Пользовательский статус.
		2. Лента постов пользователя в обратном хронологическом порядке. Глубина просмотра ленты/постов бесконечная.
	3. Пользователь может редактировать данные раздела "Информация о пользователе" в своем профиле.
3. Поиск пользователей.
	1. Для поиска пользователей должен быть реализован раздел "Путешественники".
	2. В разделе отображается список пользователей. Список отсортирован по убыванию количества подписчиков. Глубина просмотра списка путешественников бесконечная.
	3. По списку путешественников возможен поиск по полям:
		- Имя;
		- Имя пользователя.
4. Подписка на других путешественников. Управление подписками.
	1. Пользователь может подписаться на другого пользователя социальной сети, на которого еще не подписан.
	2. Пользователь может отписаться от другого пользователя, на которого ранее был подписан.
	3. Пользователь может просматривать список своих подписок.
	4. Пользователь может просматривать список своих подписчиков.
	5. Пользователь может просматривать список подписок других пользователей.
	6. Пользователь может просматривать список подписчиков других пользователей.
5. Просмотр ленты пользователя, основанной на подписках.
	1. В системе должен быть реализован раздел "Лента".
	2. В разделе "Лента" отображаются все посты пользователей, на которых подписан текущий пользователь. Список формируется в обратном хронологическом порядке. Глубина просмотра ленты/постов бесконечная.
6. Создание постов.
	1. Пользователь может создавать посты. 
	2. Пост содержит следующие данные:
		- Заголовок;
		- Текстовое описание;
		- Фотографии (не более 10);
		- Место путешествия.
	3. При создании поста место путешествия можно заполнить двумя способами:
		- выбрать из справочника географических объектов и достопримечательностей вручную (управление справочником осуществляется сотрудниками соц.сети); возможен поиск места в справочнике по названию;
		- определить ближайшее место на основании текущего местоположения устройства пользователя (если пользователь предоставил доступ к геолокации).
	4. Свои ранее опубликованные посты пользователь может отредактировать. Редактирование доступно только в течение 24 часов после создания поста.
	5. Свои ранее опубликованные посты пользователь может удалить.
7. Оценка постов других путешественников.
	1. Пользователь может поставить реакцию под постом другого пользователя.
	2. В качестве реакции пользователь выбирает эмодзи (только одну из предустановленного набора, включающего 5 эмодзи);
	3. Ранее поставленную реакцию можно удалить.
8. Комментирование постов.
	1. При просмотре поста пользователь может оставить комментарий.
	2. Пользователь может оставить комментарий:
		- под постом;
		- под другим комментарием (ответ на комментарий).
	3. Комментарий содержит только текст.	
	4. Ранее оставленный комментарий можно отредактировать. Редактирование доступно только в течение 15 минут после создания комментария.
	5. Ранее оставленный комментарий можно удалить.
9. Поиск популярных мест для путешествий
	1. Для поиска популярных мест для путешествий должен быть реализован раздел "Места путешествий".
	2. В разделе отображается список мест путешествий. Список мест отсортирован по убыванию количества упоминаний в постах пользователей.
	3. Список мест путешествий можно фильтровать:
		- по стране;
		- по категории.
	4. При клике/тапе по конкретному месту из списка открывается карточка места.
	5. Карточка места состоит из трех разделов:
		1. Информация о месте путешествия. Содержит данные: Наименование, Страна, Категория.
		2. Карта, на которой отображается точка, определенная по координатам места;
		3. Список постов, в которых упоминается это место. Список формируется в обратном хронологическом порядке. Глубина просмотра ленты/постов бесконечная.

## 3. Нефункциональные требования
1. Сезонность.
	- летом, а также в периоды новогодних и майских праздников посещаемость увеличивается на 100%.
2. Количество пользователей:
	- 10 000 000 DAU - низкий сезон;
	- 20 000 000 DAU - высокий сезон.
3. География использования:
	- страны СНГ.
4. Срок хранения данных: 
	- бессрочно.
5. Архивирование данных:
	- не требуется.
6. Активности пользователей:
	- каждый пользователь в среднем редактирует свой профиль путешественника 6 раз в год;
	- каждый пользователь просматривает в среднем 1 профиль путешественника в день;
	- средняя глубина просмотра ленты постов в профиле пользователя - 30 постов;
	- каждый пользователь просматривает список путешественников в среднем 1 раз в день;
	- средняя глубина просмотра списка пользователей - 12 пользователей;
	- каждый пользователь в среднем 0.15 раз в день выполняет поиск в списке пользователей;
	- средняя глубина просмотра списка пользователей при поиске - 15 пользователей;
	- каждый пользователь в среднем подписывается на 0,5 пользователя в день;
	- каждый пользователь отписывается от пользователя в среднем 0,2 раз в день;
	- каждый пользователь просматривает список своих подписок 0,2 раза в день;
	- средняя глубина просмотра списка подписок - 40 пользователей;
	- каждый пользователь просматривает список своих подписчиков 1 раз в день;
	- средняя глубина просмотра списка подписчиков - 50 пользователей;
	- каждый пользователь просматривает ленту постов, основанную на подписках, в среднем 2 раза в день;
	- средняя глубина просмотра ленты постов, основанной на подписках, 50 постов;
	- каждый пользователь создает в среднем 0,13 поста в день;
	- каждый пользователь изменяет пост в среднем 6 раз в год;
	- каждый пользователь удаляет пост в среднем 2 раз в год;
	- в среднем каждый пост содержит 3 фотографии;
	- средний размер фотографии, которую пользователь выбирает на устройстве, для загрузки в систему - 4 MB;
	- средний размер фотографии, сохраняемой в систему - 300 KB;
	- средний размер текстового описания каждого поста - 460 символов;
	- каждый пользователь просматривает в среднем 5 постов (подробная информация) в день;	
	- каждый пользователь ставит реакцию под постом в среднем 4 раз в день;
	- каждый пользователь удаляет реакцию в среднем 0.1 раз в день;
	- каждый пользователь в среднем просматривает список реакций на пост 3 раза в день;
	- средняя глубина просмотра списка реакций на пост - 30 реакций;
	- каждый пользователь пишет комментарий 2 раза в день;
	- средний размер комментария - 105 символов;
	- каждый пользователь просматривает в среднем комментарии под 5 постами в день.
	- средняя глубина просмотра комментариев под постами - 15 комментариев;
	- каждый пользователь изменяет комментарий в среднем 10 раз в год;
	- каждый пользователь удаляет комментарий в среднем 6 раз в год;
	- каждый пользователь просматривает список мест для путешествий в среднем 0,15 раза в день;
	- средняя глубина просмотра списка мест - 30 мест для путешествий;
	- каждый пользователь в среднем 0,1 раз в день выполняет поиск в списке мест для путешествий;
	- каждый пользователь просматривает в среднем 0,1 карточку места для путешествия в день;
	- средняя глубина просмотра ленты постов в карточке места для путешествия - 50 постов.
7. Лимиты и ограничения:
	- У пользователя может быть только 1 профиль;
	- В профиле пользователя может быть указано не более 1 фотографии (аватар);
	- У пользователя может быть не более 5 000 подписок;
	- Пользователь может подписаться не более 200 раз в сутки.
	- Пользователь может отписаться не более 400 раз в сутки.
	- У пользователя может быть не более 100 000 000 подписчиков;
	- Пользователь может создавать не более 20 постов в день;
	- Пост может содержать не более 10 фотографий;
	- Максимальный размер фотографии, которую пользователь может выбрать на устройстве для загрузки в систему: 10 MB;
	- Максимальный размер фотографии для сохранения в системе (после сжатия): 500 KB.
	- Пользователь может поставить только 1 реакцию под постом;
	- Пользователь может оставить не более 300 реакций в сутки;
	- Пользователь может оставить не более 100 комментариев в сутки.
	- Загрузка ленты постов - по 20 постов в режиме бесконечной ленты;
	- Загрузка списка реакций - по 50 реакций в режиме бесконечной ленты;
	- Загрузка комментариев - по 20 комментариев в режиме бесконечной ленты;
	- Загрузка списка пользователей (путешественников/подписок/подписчиков) - по 20 пользователей в режиме бесконечной ленты;
	- Загрузка списка мест для путешествий - по 20 мест для путешествий в режиме бесконечной ленты.
8. Временные ограничения:
	- получение профиля пользователя - 1 сек.;
	- получение ленты постов пользователя: 1,5 сек.;
	- получение ленты по подпискам: 2 сек.;
	- получение списка пользователей: 2 сек;
	- поиск пользователя: 2 сек.;
	- подписка/отписка: 1 сек.;
	- создание/редактирование поста: 2 сек.;
	- удаление поста: 1 сек.;
	- создание/удаление реакции: 1 сек.;
	- создание/редактирование комментария: 1 сек;
	- удаление комментария: 1 сек.;
	- получение списка мест для путешествий 2 секунды;
	- поиск места для путешествия: 2 сек.;
	- получение карточки места путешествия: 1 сек.;
	- получение ленты постов по месту путешествия: 2 сек.
9. Целевая доступность: 
	- 99,99% (не более 52,56 минут простоя в год).
10. Время восстановления при аварии (RTO): 
	- 2 часа.
11. Срок утраты данных при аварии (RPO): 
	- 30 минут.
## 4. Оценка нагрузки
### 4.1. RPS
#### 4.1.1. Пользователи

| Операция                            | Тип       | RPS в низкий сезон                       | RPS в высокий сезон |
| ----------------------------------- | --------- | ---------------------------------------- | ------------------- |
| Изменение информации о пользователе | Write     | 10 000 000 * 0,016 / 86 400 ≈ 10 RPS     | 20 RPS              |
| Получение информации о пользователе | Read      | 10 000 000 * 1 / 86 400 ≈ 120 RPS        | 240 RPS             |
| Получение списка пользователей      | Read      | 10 000 000 * 1 / 86 400 ≈ 120 RPS        | 240 RPS             |
| Поиск пользователей                 | Read      | 10 000 000 * 0,15 / 86 400 ≈ 20 RPS      | 40 RPS              |
| Получение списка подписок           | Read      | 10 000 000 \* 0,2 \* 2 / 86 400 ≈ 50 RPS | 100 RPS             |
| Получение списка подписчиков        | Read      | 10 000 000 \* 1 \* 3 / 86 400 ≈ 350 RPS  | 700 RPS             |
| **ИТОГО Write**                     | **Write** | **10 RPS**                               | **20 RPS**          |
| **ИТОГО Read**                      | **Read**  | **660 RPS**                              | **1320 RPS**        |
#### 4.1.2. Подписки / отписки
| Операция                 | Тип       | RPS в низкий сезон                 | RPS в высокий сезон |
| ------------------------ | --------- | ---------------------------------- | ------------------- |
| Подписка на пользователя | Write     | 10 000 000 * 0,5 / 86 400 ≈ 60 RPS | 120 RPS             |
| Отписка от пользователя  | Write     | 10 000 000 * 0,2 / 86 400 ≈ 30 RPS | 60 RPS              |
| **ИТОГО Write**          | **Write** | **90 RPS**                         | **180 RPS**         |
#### 4.1.3. Посты

| Операция                                                     | Тип       | RPS в низкий сезон                       | RPS в высокий сезон |
| ------------------------------------------------------------ | --------- | ---------------------------------------- | ------------------- |
| Создание поста                                               | Write     | 10 000 000 * 0,13 / 86 400 ≈ 20 RPS      | 40 RPS              |
| Изменение поста                                              | Write     | 10 000 000 * 0,016 / 86 400 ≈ 5 RPS      | 10 RPS              |
| Удаление поста                                               | Write     | 10 000 000 * 0,005 / 86 400 ≈ 5 RPS      | 10 RPS              |
| Получение поста                                              | Read      | 10 000 000 * 5 / 86 400 ≈ 580 RPS        | 1160 RPS            |
| Получение ленты постов пользователя                          | Read      | 10 000 000 \* 1 \* 2 / 86 400 ≈ 240 RPS  | 480 RPS             |
| Получение ленты постов, основанную на подписках пользователя | Read      | 10 000 000 \* 2 \* 3 / 86 400 ≈ 700 RPS  | 1400 RPS            |
| Получение ленты постов в карточке места путешествия          | Read      | 10 000 000 \* 0,1 \* 3 / 86 400 ≈ 40 RPS | 80 RPS              |
| **ИТОГО Write**                                              | **Write** | **30 RPS**                               | **60 RPS**          |
| **ИТОГО Read**                                               | **Read**  | **1560 RPS**                             | **3120 RPS**        |
#### 4.1.4. Реакции

| Операция                 | Тип       | RPS в низкий сезон                 | RPS в высокий сезон |
| ------------------------ | --------- | ---------------------------------- | ------------------- |
| Создание реакции         | Write     | 10 000 000 * 4 / 86 400 ≈ 470 RPS  | 940 RPS             |
| Удаление реакции         | Write     | 10 000 000 * 0,1 / 86 400 ≈ 20 RPS | 40 RPS              |
| Получение списка реакций | Read      | 10 000 000 * 3 / 86 400 ≈ 580 RPS  | 1160 RPS            |
| **ИТОГО Write**          | **Write** | **490 RPS**                        | **980 RPS**         |
| **ИТОГО Read**           | **Read**  | **580 RPS**                        | **1160 RPS**        |
#### 4.1.5. Комментарии

| Операция                      | Тип       | RPS в низкий сезон                  | RPS в высокий сезон |
| ----------------------------- | --------- | ----------------------------------- | ------------------- |
| Создание комментария          | Write     | 10 000 000 * 2 / 86 400 ≈ 240 RPS   | 480 RPS             |
| Изменение комментария         | Write     | 10 000 000 * 0,027 / 86 400 ≈ 5 RPS | 10 RPS              |
| Удаление комментария          | Write     | 10 000 000 * 0,016 / 86 400 ≈ 5 RPS | 10 RPS              |
| Получение списка комментариев | Read      | 10 000 000 * 5 / 86 400 ≈ 580 RPS   | 1160 RPS            |
| **ИТОГО Write**               | **Write** | **250 RPS**                         | **500 RPS**         |
| **ИТОГО Read**                | **Read**  | **580 RPS**                         | **1160 RPS**        |
#### 4.1.6. Места путешествий

| Операция                          | Тип      | RPS в низкий сезон                        | RPS в высокий сезон |
| --------------------------------- | -------- | ----------------------------------------- | ------------------- |
| Получение списка мест путешествий | Read     | 10 000 000 \* 0,15 \* 2 / 86 400 ≈ 40 RPS | 80 RPS              |
| Поиск мест путешествий            | Read     | 10 000 000 * 0,1 / 86 400 ≈ 20 RPS        | 40 RPS              |
| Получение места путешествия       | Read     | 10 000 000 * 0,1 / 86 400 ≈ 20 RPS        | 40 RPS              |
| **ИТОГО Read**                    | **Read** | **80 RPS**                                | **160 RPS**         |
## 4.2. Трафик
#### 4.2.1. Пользователи
User Profile JSON:
```JSON
{
  "userId": "123e4567-e89b-12d3-a456-426655440000",         // ~ 49 B
  "name": "John McClane",                                   // ~ 23 B 
  "username": "die_hard_007",                               // ~ 27 B 
  "birthday": "14.08.1979",                                 // ~ 25 B 
  "sex": "M",                                               // ~ 11 B 
  "city": "Барнаул",                                        // ~ 25 B 
  "userStatus": "В Турции! Кому пахлавы привезти?)",        // ~ 76 B 
  "about": "Фыва, пролдж и тот еще йцукен",                 // ~ 64 B 
  "photo": "https://cdn-domain.com/avatars/file-name.jpg",  // ~ 56 B 
  "isOnline": true,                                         // ~ 17 B 
  "lastSeen": "2017-07-21T17:32:28Z",                       // ~ 35 B 
  "isSubscribed": true,                                     // ~ 21 B 
  "subscriptionsCount": 114,                                // ~ 26 B 
  "followersCount": 162                                     // ~ 22 B 
}                                                           // ИТОГО ~ 477 B ~ 0,5 KB
```

|                           | Трафик в низкий сезон                                                    | Трафик в высокий сезон |
| ------------------------- | ------------------------------------------------------------------------ | ---------------------- |
| **JSON Traffic (Write)**  | 10 RPS * 0,5 KB ≈ 5 KB/Sec                                               | 10 KB/Sec              |
| **Media Traffic (Write)** | 10 RPS * 4 MB ≈ 40 MB/Sec                                                | 80 MB/Sec              |
| **JSON Traffic (Read)**   | 120 RPS \* 0,5 KB + 540 RPS * 0,5 KB \* 20 (размер батча) ≈ 5,46 MB/Sec  | 10,92 MB/Sec           |
| **Media Traffic (Read)**  | 120 RPS \* 0,3 MB + 540 RPS * 0,3 MB \* 20 (размер батча) ≈ 3 276 MB/Sec | 6 552 MB/Sec           |
#### 4.2.2. Подписки / отписки
Subscription JSON:
```JSON
{
  "leaderId"  : "123e4567-e89b-12d3-a456-426655440000",      // ~ 49 B
  "followerId": "123e4567-e89b-12d3-a456-426655440300"       // ~ 49 B
}                                                            // ИТОГО ~ 98 B ~ 0,01 KB
```

|                          | Трафик в низкий сезон         | Трафик в высокий сезон |
| ------------------------ | ----------------------------- | ---------------------- |
| **JSON Traffic (Write)** | 90 RPS * 0,01 KB ≈ 0,9 KB/Sec | 1,8 KB/Sec             |
#### 4.2.3. Посты
Post JSON:
```JSON
{
  "postId": "123e4567-e89b-12d3-a456-426655440001",          // ~ 49 B
  "userId": "123e4567-e89b-12d3-a456-426655440000",          // ~ 49 B
  "title": "Пять причин, почему вам стоит посетить Катманду",// ~ 99 B
  "text": "Первая причина - это ты, а вторая - все твои мечты... Лорем ипсум долор сит амет, но доцтус вереар нам, ерудити аппетере елецтрам сед цу. Сумо аппеллантур иус ад, симул ноструд но нец, цонгуе фацете ест ин. Вел аутем лаборе дефкиниебас ат, цу алии тхеопхрастус вис, ин усу вивендум волутпат. Нец дицерет реформиданс еу, ат унум суавитате иус. Ет велит волуптатум цонтентионес сед, поссит аудире омиттантур еа иус, нец ид еиус сенсерит. Не проприае волуптатибу.",                         // ~ 836 B
  "photo": [
    "https://cdn-domain.com/photos/file-name01.jpg",
    "https://cdn-domain.com/photos/file-name01.jpg",
    "https://cdn-domain.com/photos/file-name01.jpg"
  ],                                                         // ~ 155 B
  "locationName": "Ступа Боднатх",                           // ~ 44 B
  "isReacted": true,                                         // ~ 18 B
  "reactionType": "&#128525;",                               // ~ 28 B
  "reactionsCount": 156,                                     // ~ 22 B
  "commentsCount": 11,                                       // ~ 20 B
  "createdAt": "2017-07-21T17:32:28Z"                        // ~ 36 B
}                                                            // ИТОГО ~ 1356 B ~ 1,4 KB
```

|                           | Трафик в низкий сезон                                                                                                            | Трафик в высокий сезон |
| ------------------------- | -------------------------------------------------------------------------------------------------------------------------------- | ---------------------- |
| **JSON Traffic (Write)**  | 30 RPS * 1,4 KB ≈ 42 KB/Sec                                                                                                      | 84 KB/Sec              |
| **Media Traffic (Write)** | 30 RPS \* 4 MB \* 3 = 360 MB/Sec                                                                                                 | 720 MB/Sec             |
| **JSON Traffic (Read)**   | 580 RPS \* 1,4 KB + 980 RPS \* 1,4 KB \* 20 (размер батча) ≈ 28,252 MB/Sec                                                       | 56,504 MB/Sec          |
| **Media Traffic (Read)**  | 580 RPS \* 0,3 MB \* 3 (кол-во фото в посте) + 980 RPS \* 0,3 MB \* 3 (кол-во фото в посте) \* 20 (размер батча) ≈ 18 162 MB/Sec | 36 324 MB/Sec          |
#### 4.2.4. Реакции
Reaction JSON:
```JSON
{
  "reactionId"  : "123e4567-e89b-12d3-a456-426655440003",     // ~ 49 B
  "postId"      : "123e4567-e89b-12d3-a456-426655440001",     // ~ 49 B
  "userId"      : "123e4567-e89b-12d3-a456-426655440000",     // ~ 49 B
  "reactionType": "&#128525;"                                 // ~ 28 B
}                                                             // ИТОГО ~ 175 B ~ 0,2 KB
```

|                          | Трафик в низкий сезон                              | Трафик в высокий сезон |
| ------------------------ | -------------------------------------------------- | ---------------------- |
| **JSON Traffic (Write)** | 490 RPS * 0,2 KB ≈ 98 KB/Sec                       | 196 KB/Sec             |
| **JSON Traffic (Read)**  | 580 RPS * 0,2 KB \* 50 (размер батча) ≈ 5,8 MB/Sec | 11,6 MB/Sec            |
#### 4.2.5. Комментарии
Comment JSON:
```JSON
{
  "commentId": "123e4567-e89b-12d3-a456-426655440002",        // ~ 49 B
  "postId": "123e4567-e89b-12d3-a456-426655440001",           // ~ 49 B
  "userId": "123e4567-e89b-12d3-a456-426655440000",           // ~ 49 B
  "text": "Спасибо за интересный пост! Мне понравилось это место. Когда-нибудь обязательно туда съездим всей семьей!",  // ~ 204 B
  "createdAt": "2017-07-21T17:32:28Z"                         // ~ 36 B
}                                                             // ИТОГО ~ 387 B ~ 0,4 KB
```

|                          | Трафик в низкий сезон                               | Трафик в высокий сезон |
| ------------------------ | --------------------------------------------------- | ---------------------- |
| **JSON Traffic (Write)** | 250 RPS * 0,4 KB ≈ 100 KB/Sec                       | 200 KB/Sec             |
| **JSON Traffic (Read)**  | 580 RPS * 0,4 KB \* 20 (размер батча) ≈ 4,64 MB/Sec | 9,28 MB/Sec            |
#### 4.2.6. Места путешествий
Location JSON:
```JSON
{
  "locationId": "123e4567-e89b-12d3-a456-426655440000",       // ~ 49 B
  "name"      : "Ступа Боднатх",                              // ~ 36 B
  "category"  : "Храмовый комплекс",                          // ~ 48 B
  "country"   : "Непал",                                      // ~ 24 B
  "latitude"  : "27.7227",                                    // ~ 22 B
  "longitude" : "85.3641"                                     // ~ 23 B
}                                                             // ИТОГО ~ 202 B ~ 0,21 KB
```

|                         | Трафик в низкий сезон                                                    | Трафик в высокий сезон |
| ----------------------- | ------------------------------------------------------------------------ | ---------------------- |
| **JSON Traffic (Read)** | 20 RPS \* 0,21 KB + 60 RPS * 0,21 KB \* 20 (размер батча) ≈ 256,2 KB/Sec | 512,4 KB/Sec           |
## 4.3. Количество одновременных соединений

|                 | Количество одновременных соединений в низкий сезон | Количество одновременных соединений в высокий сезон |
| --------------- | -------------------------------------------------- | --------------------------------------------------- |
| **Connections** | 10 000 000 * 0,1 = 1 000 000                       | 2 000 000                                           |
